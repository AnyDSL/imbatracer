fn iteration(width : int, height : int, body : fn(int, int) -> () ) -> ()
{
    let unroll = 1;
    let dim = (width, height/unroll, 1);
    let block = (128, 1, 1);

    acc(acc_dev(), dim, block, || -> () {
        let gid_x = acc_gidx();
        let gid_y = acc_tidy() + acc_bdimy() * acc_bidy() * unroll;

        for i in @range(0, unroll) {
            body(gid_x, gid_y + i * acc_bdimy());
        }
    });
}

fn assert(f : fn() -> bool, i : int) -> ()
{
}
